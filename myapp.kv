<MyWidget>:
    BoxLayout:
        orientation: 'vertical'
        spacing: 10
        padding: 10

        TextInput:
            id: text_input
            hint_text: 'Enter questions here, one per line'
            size_hint: 1, 0.3
            multiline: True

        Label:
            id: file_label
            text: 'No file selected'
            size_hint: 1, 0.1

        ProgressBar:
            id: progress_bar
            size_hint: 1, 0.1
            max: 1
            value: 0

        Label:
            id: progress_label
            text: 'Progress: 0%'
            size_hint: 1, 0.1

        Button:
            text: 'Choose File'
            size_hint: 1, 0.2
            on_press: root.show_filechooser()

        Button:
            text: 'Submit'
            size_hint: 1, 0.2
            on_press: root.on_submit()

<FileChoosePopup>:
    title: 'Choose a file'
    size_hint: 0.9, 0.9
    BoxLayout:
        orientation: 'vertical'
        FileChooserListView:
            id: filechooser
            filters: ['*.csv', '*.xls', '*.xlsx']
            size_hint: 1, 0.8

        Button:
            text: 'Select'
            size_hint: 1, 0.2
            on_press: root.on_select(filechooser)

<ResultScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10

        ScrollView:
            size_hint: 1, 0.9
            do_scroll_x: False
            GridLayout:
                id: question_layout
                cols: 1
                size_hint_y: None
                height: self.minimum_height
                row_default_height: '40dp'
                row_force_default: False
                padding: 10
                spacing: 10

        Button:
            text: 'Back'
            size_hint: 1, 0.1
            on_press: app.root.current = 'main_screen'
